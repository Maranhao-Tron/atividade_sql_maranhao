/* DELETE 1 */
DELETE FROM VENDAS WHERE VEN_PRO_ID = 30;
DELETE FROM COMPRAS WHERE CMP_PRO_ID = 30;
DELETE FROM PRODUTOS WHERE PRO_ID = 30;

DELETE FROM VENDAS WHERE VEN_CLIENTE_ID = 30;
DELETE FROM CLIENTES WHERE CLI_ID = 30;

/* DELETE 2 */
DELETE FROM VENDAS WHERE VEN_PRO_ID = 29;
DELETE FROM COMPRAS WHERE CMP_PRO_ID = 29;
DELETE FROM PRODUTOS WHERE PRO_ID = 29;

DELETE FROM VENDAS WHERE VEN_CLIENTE_ID = 29;
DELETE FROM CLIENTES WHERE CLI_ID = 29;

/* DELETE 3 */
DELETE FROM VENDAS WHERE VEN_PRO_ID = 28;
DELETE FROM COMPRAS WHERE CMP_PRO_ID = 28;
DELETE FROM PRODUTOS WHERE PRO_ID = 28;

DELETE FROM VENDAS WHERE VEN_CLIENTE_ID = 28;
DELETE FROM CLIENTES WHERE CLI_ID = 28;

/* DELETE 4 */
DELETE FROM VENDAS WHERE VEN_PRO_ID = 27;
DELETE FROM COMPRAS WHERE CMP_PRO_ID = 27;
DELETE FROM PRODUTOS WHERE PRO_ID = 27;

DELETE FROM VENDAS WHERE VEN_CLIENTE_ID = 27;
DELETE FROM CLIENTES WHERE CLI_ID = 27;

/* DELETE 5 */
DELETE FROM VENDAS WHERE VEN_PRO_ID = 26;
DELETE FROM COMPRAS WHERE CMP_PRO_ID = 26;
DELETE FROM PRODUTOS WHERE PRO_ID = 26;

DELETE FROM VENDAS WHERE VEN_CLIENTE_ID = 26;
DELETE FROM CLIENTES WHERE CLI_ID = 26;


/* UPDATES */
/* TRIGGER PRA ATUALIZAR NOME DO PRODUTO EM VENDAS E COMPRAS (FK) */
CREATE OR ALTER TRIGGER TRG_ATUALIZA_NOME_PRODUTO
AFTER UPDATE ON PRODUTOS
AS
BEGIN
    UPDATE VENDAS
    SET VEN_PRO_NOME = NEW.PRO_NOME
    WHERE VEN_PRO_ID = NEW.PRO_ID;

    UPDATE COMPRAS
    SET CMP_PRO_NOME = NEW.PRO_NOME
    WHERE CMP_PRO_ID = NEW.PRO_ID;
END;

UPDATE PRODUTOS
SET PRO_NOME = 'Teclado Mecânico Redragon'
WHERE PRO_ID = 1;

UPDATE PRODUTOS
SET PRO_NOME = 'Mouse Gamer 15000DPI'
WHERE PRO_ID = 2;

UPDATE CLIENTES
SET CLI_NOME = 'João Silva Rocha'
WHERE CLI_ID = 1;

UPDATE CLIENTES
SET CLI_NOME = 'Maria Oliveira Pereira'
WHERE CLI_ID = 2;

SELECT * FROM CLIENTES;